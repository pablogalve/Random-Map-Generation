# Procedural Map Generation
 
I am [Pablo Galve](https://www.linkedin.com/in/pablogalve), student of the
[Bachelor’s Degree in
Video Games Programming and Development](https://www.citm.upc.edu/ing/estudis/graus-videojocs/) by UPC at CITM). 

This content is generated for the second year’s subject Project 2, under supervision of lecturer
[Marc Garrigó](https://www.linkedin.com/in/mgarrigo).

## What are procedural generated maps?
Procedural maps are generated by a computer instead of by a person.

## Why to use procedural generated maps?
Manually created maps are limited to our budget (both in time and money). We can create awesome levels but we can't design an infinite map as it would consume endless production resources.   

What if we could create a different map in each game? What if we could have endless different combinations?
Well, we can do it with procedural map generation.
Let's see...

## Characteristics of a procedural generated map
### Pros and Cons of using them
#### Pros of procedural algorithms
- New challenges and experiences on each game.
- Users can play for years as it's a never ending different experience.
- Maps can be adjust its difficulty based on the player.
- Monetization can be dramatically increased.
#### Cons of procedural algorithms
- You can't design it 100% as you want, that's why narrative focused games don't use it.
- It takes time and resources to build.

### When is it useful to use procedural methodologies instead of doing maps manually?
Well, certainly we should use different methodologies depending on the project requirements.

* Manual
  * If it's a small game.
  * If it needs to follow a defined story/narrative.
  * If you need extreme details.
* Procedural
  * If it's an open-world game.
  * If you want endless different map combinations.
  * If you want every game to be unique.


It is usually used for creating the environment, spawning enemies or looting objects.
However, it can be used for anything as you could procedurally generate an entire universe.

We also have to take into account that these methodologies are not trully random but quasi-random and they use content generated beforehand by developers. The computed chooses where to allocate each element of even combine parts of elements to generate more complex objects or assets.

## Different approaches by different games
The most well-known game using procedural map generation is Minecraft by Mojang. 
Civilization V: Randomize layout of its map
Dwarf Fortress and Minecraft entire worlds
Dungeons in Diablo are at least partially procedural generated 
Spore

### Different algorithms
#### Binary space partitioning for Dungeons
This is probably one of the easiest methods to achieve procedural map generation.

Firstly, we have an empty giant room that we'll use to create the map. We name that giant room 1.
We need to divide our available big room in different rooms using binary space partitioning.
Space sizes may be different for each space.
* We create childs 2 and 3 from parent 1.
* We create childs 4 and 5 from parent 2.
* We create childs 6 and 7 from parent 3.
* We create childs 8 and 9 from parent 5.
We divide until we can't divide anymore or until we reach a defined maximum number of spaces.
We'll get something like that:

![Dividing Space](/docs/Assets/Binary_space_partitioning_concept__01_dividing_space.PNG)
![Dividing Space](https://github.com/pablogalve/Random-Map-Generation/blob/master/docs/Assets/Binary_space_partitioning_concept__01_dividing_space.PNG)
<img src="/Assets/Binary_space_partitioning_concept__01_dividing_space.PNG" alt="alt text" width="400" height="200">

Then, once we have the space divided we generate separated rooms inside each space.
In order to that we generate a room of the space' size but leaving a margin in order to leave some empty spaces without rooms.
For example, we can achieve that by giving a 10% margin between space wall and room wall.

IMAGE: Creating Rooms

Finally, we create corridors to connect all the rooms and make sure that the entire map is reachable.
In order to achieve that, we start with the youngest child and we connect chils from the same parent.
* 8 and 9
* 4 and 5. But 4 is composed by 8 and 9, so we create a corridor between 5 and (8 or 9, can be choosed randomly).
* 6 and 7
* 2 and 3. Both 2 and 3 are groups of rooms so we need to connect one room from each group.

IMAGE: Corridors

#### Interpretive 
Used by Spore
<img src="Interpretive_spore_01.PNG" alt="alt text" width="400" height="200">
<img src="Interpretive_spore_02.PNG" alt="alt text" width="400" height="200">
<img src="Interpretive_motion.PNG" alt="alt text" width="400" height="200">

#### Perlin Noise






## Perlin Noise Explained in Depth






## TODOs

## Video tutorial

## Optional Homework for practicing

## Explanation of any other improvements on the system

# Bibliography
You can get more information here:

!["Sunny Valley Studio" video series on youtube.](https://www.youtube.com/watch?v=VnqN0v95jtU)
![The Happie Cat](https://www.youtube.com/watch?v=JdYkcrW8FBg)
![Coding Challenge #10 2D Terrain Generation using Perlin Noise](https://www.youtube.com/watch?v=jv6YT9pPIHw)
